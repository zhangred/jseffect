<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, width=device-width">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<link href="css/font-awesome.css" rel="stylesheet" type="text/css" />
    <link href="css/base.css" rel="stylesheet" type="text/css" />
	<link href="css/widget.css" rel="stylesheet" type="text/css" />
    <link href="css/list.css" rel="stylesheet" type="text/css" />
	<title>首页</title>
    <style type="text/css">
    </style>
</head>
<body>
    <div class="html">

        <header class="header bgn">
            <p class="fl text"><a href="javascript:;" class="aback"></a>家具图册</p>
            <p class="fr pt10 pr10">
                <a href="javascript:;" id="J_addnav"><i class="fa fa-bars c33 fs18 lh30"></i></a>
            </p>
        </header>
        <div class="navpop out" id="J_shownav">
            <a href="javascript:;" class="fadenav pta r10 t10 z3" id="J_fadenav"><i class="fa fa-times fs18 lh30"></i></a>
            <a href="javascript:;" class="cover" id="J_hidenav"></a>
            <ul class="ul ovh z2 ptr fs12">
                <li class="li">
                    <a href="" class="ls">
                        <p class="ico icoa"></p>
                        <p class="">首页</p>
                    </a>
                </li>
                <li class="li">
                    <a href="" class="ls">
                        <p class="ico icob"></p>
                        <p class="">效果图</p>
                    </a>
                </li>
                <li class="li">
                    <a href="" class="ls">
                        <p class="ico icoc"></p>
                        <p class="">案例</p>
                    </a>
                </li>
                <li class="li">
                    <a href="" class="ls">
                        <p class="ico icod"></p>
                        <p class="">云设计</p>
                    </a>
                </li>
            </ul>
        </div>
        <div class="J_tab selection fs14 ptr">
            <p class="J_tabopt ovh ptr z3 bgcfff">
                <a href="javascript:;" class="tabopt c33">公寓<i class="fa fa-angle-down ml5"></i></a>
                <a href="javascript:;" class="tabopt c33">风格<i class="fa fa-angle-down ml5"></i></a>
                <a href="javascript:;" class="tabopt c33">面积<i class="fa fa-angle-down ml5"></i></a>
                <a href="javascript:;" class="tabopt c33">颜色<i class="fa fa-angle-down ml5"></i></a>
            </p>
            <div class="J_panel panels ptr z3">
                <a href="javascript:;" class="cover"></a>
                <ul class="tabpanel">
                    <li class="tab-li"><a class="tab-ls active" href="">不限</a></li>
                    <li class="tab-li"><a class="tab-ls" href="">一居室</a></li>
                    <li class="tab-li"><a class="tab-ls" href="">二居室</a></li>
                    <li class="tab-li"><a class="tab-ls" href="">三居室</a></li>
                    <li class="tab-li"><a class="tab-ls" href="">四居室</a></li>
                    <li class="tab-li"><a class="tab-ls" href="">别墅</a></li>
                    <li class="tab-li"><a class="tab-ls" href="">复式</a></li>
                </ul>
                <ul class="tabpanel"></ul>
                <ul class="tabpanel"></ul>
                <ul class="tabpanel"></ul>
            </div>
        </div>
        <div class="dataempty alic">
            <p class="fwb fs16 c33 pb10">亲，找不到该条件下的相关内容 </p>
            <p class="fs14 c99 pt5">建议您：重新筛选其他条件 </p>
        </div>
        <div class="content pagelist ovh" id="J_waterfall">
           <div class="wtls fl"></div>
           <div class="wtls fr"></div>
        </div>
        <p class="load alic fs12 lh20" id="J_loadtext">正在加载···</p>
        <div class="box dsn" id="J_hidebox">
            <a class="list-ls dsb fs12 bgcfff" href="c1.html" data-id="1">
                <div class="img ptr ovh" style="background:#ff0000;padding:20% 0;">
                    <img original="img/001.jpg"  class="lazy pta z1 wp100 " data-width="200" data-height="126">
                    <p class="til pta z2 b0 wp100 cff"><span>5张</span><span class="ml10"><i class="fa fa-star-o"></i>23</span></p>
                </div>
                <p class="ellipsis c66 plr lh30">1简约风格马德里集合公寓设计简约风格马德里集合公寓设计</p>
            </a>
            <a class="list-ls dsb fs12 bgcfff" href="c2.html">
                <div class="img ptr ovh" style="background:#ff0000;padding:20% 0;">
                    <img original="img/002.jpg" class="lazy pta z1 wp100" data-width="200" data-height="133">
                    <p class="til pta z2 b0 wp100 cff"><span>5张</span><span class="ml10"><i class="fa fa-star-o"></i>23</span></p>
                </div>
                <p class="ellipsis c66 plr lh30">2简约风格马德里集合公寓设计简约风格马德里集合公寓设计</p>
            </a>
            <a class="list-ls dsb fs12 bgcfff" href="c3.html">
                <div class="img ptr ovh" style="background:#ff0000;padding:20% 0;">
                    <img original="img/003.jpg" class="lazy pta z1 wp100" data-width="200" data-height="129">
                    <p class="til pta z2 b0 wp100 cff"><span>5张</span><span class="ml10"><i class="fa fa-star-o"></i>23</span></p>
                </div>
                <p class="ellipsis c66 plr lh30">3简约风格马德里集合公寓设计简约风格马德里集合公寓设计</p>
            </a>
            <a class="list-ls dsb fs12 bgcfff" href="">
                <div class="img ptr ovh" style="background:#ff0000;padding:20% 0;">
                    <img original="img/004.jpg" class="lazy pta z1 wp100" data-width="200" data-height="133">
                    <p class="til pta z2 b0 wp100 cff"><span>5张</span><span class="ml10"><i class="fa fa-star-o"></i>23</span></p>
                </div>
                <p class="ellipsis c66 plr lh30">4简约风格马德里集合公寓设计简约风格马德里集合公寓设计</p>
            </a>
            <a class="list-ls dsb fs12 bgcfff" href="">
                <div class="img ptr ovh" style="background:#ff0000;padding:20% 0;">
                    <img original="img/005.jpg" class="lazy pta z1 wp100" data-width="200" data-height="275">
                    <p class="til pta z2 b0 wp100 cff"><span>5张</span><span class="ml10"><i class="fa fa-star-o"></i>23</span></p>
                </div>
                <p class="ellipsis c66 plr lh30">5简约风格马德里集合公寓设计简约风格马德里集合公寓设计</p>
            </a>
            <a class="list-ls dsb fs12 bgcfff" href="">
                <div class="img ptr ovh" style="background:#ff0000;padding:20% 0;">
                    <img original="img/006.jpg" class="lazy pta z1 wp100" data-width="200" data-height="300">
                    <p class="til pta z2 b0 wp100 cff"><span>5张</span><span class="ml10"><i class="fa fa-star-o"></i>23</span></p>
                </div>
                <p class="ellipsis c66 plr lh30">6简约风格马德里集合公寓设计简约风格马德里集合公寓设计</p>
            </a>
            <a class="list-ls dsb fs12 bgcfff" href="">
                <div class="img ptr ovh" style="background:#ff0000;padding:20% 0;">
                    <img original="img/007.jpg" class="lazy pta z1 wp100" data-width="200" data-height="266">
                    <p class="til pta z2 b0 wp100 cff"><span>5张</span><span class="ml10"><i class="fa fa-star-o"></i>23</span></p>
                </div>
                <p class="ellipsis c66 plr lh30">7简约风格马德里集合公寓设计简约风格马德里集合公寓设计</p>
            </a>
            <a class="list-ls dsb fs12 bgcfff" href="">
                <div class="img ptr ovh" style="background:#ff0000;padding:20% 0;">
                    <img original="img/008.jpg" class="lazy pta z1 wp100" data-width="200" data-height="133">
                    <p class="til pta z2 b0 wp100 cff"><span>5张</span><span class="ml10"><i class="fa fa-star-o"></i>23</span></p>
                </div>
                <p class="ellipsis c66 plr lh30">8简约风格马德里集合公寓设计简约风格马德里集合公寓设计</p>
            </a>
            <a class="list-ls dsb fs12 bgcfff" href="">
                <div class="img ptr ovh" style="background:#ff0000;padding:20% 0;">
                    <img original="img/009.jpg" class="lazy pta z1 wp100" data-width="200" data-height="300">
                    <p class="til pta z2 b0 wp100 cff"><span>5张</span><span class="ml10"><i class="fa fa-star-o"></i>23</span></p>
                </div>
                <p class="ellipsis c66 plr lh30">9简约风格马德里集合公寓设计简约风格马德里集合公寓设计</p>
            </a>
            <a class="list-ls dsb fs12 bgcfff" href="">
                <div class="img ptr ovh" style="background:#ff0000;padding:20% 0;">
                    <img original="img/010.jpg" class="lazy pta z1 wp100" data-width="200" data-height="257">
                    <p class="til pta z2 b0 wp100 cff"><span>5张</span><span class="ml10"><i class="fa fa-star-o"></i>23</span></p>
                </div>
                <p class="ellipsis c66 plr lh30">10简约风格马德里集合公寓设计简约风格马德里集合公寓设计</p>
            </a>
            <a class="list-ls dsb fs12 bgcfff" href="">
                <div class="img ptr ovh" style="background:#ff0000;padding:20% 0;">
                    <img original="img/011.jpg" class="lazy pta z1 wp100" data-width="200" data-height="300">
                    <p class="til pta z2 b0 wp100 cff"><span>5张</span><span class="ml10"><i class="fa fa-star-o"></i>23</span></p>
                </div>
                <p class="ellipsis c66 plr lh30">11简约风格马德里集合公寓设计简约风格马德里集合公寓设计</p>
            </a>
            <a class="list-ls dsb fs12 bgcfff" href="">
                <div class="img ptr ovh" style="background:#ff0000;padding:20% 0;">
                    <img original="img/012.jpg" class="lazy pta z1 wp100" data-width="200" data-height="150">
                    <p class="til pta z2 b0 wp100 cff"><span>5张</span><span class="ml10"><i class="fa fa-star-o"></i>23</span></p>
                </div>
                <p class="ellipsis c66 plr lh30">12简约风格马德里集合公寓设计简约风格马德里集合公寓设计</p>
            </a>
        </div>

        <div class="photoswipe" id="J_photoswipe">
            <p class="topline pta wp100 z5">
                <a href="javascript:;" class="closeps"></a>
                <a href="javascript:;" class="shownav alic">
                    <span class="dsb"><i class="fa fa-bars cff fs18 lh20"></i></span>导航
                </a>
            </p>
            <p class="botline pta b0 wp100 z5 lh30 fs12 cff">
                <span class="title ml10"></span>
                <span class="pnt fr mr10">1/？</span>
            </p>
            <div class="piclist">
                <p class="imgbox"><img src="m/loading.gif" class="ab" data-load="0"><span class="l"></span></p>
                <p class="imgbox"><img src="m/loading.gif" class="ab" data-load="0"><span class="l"></span></p>
                <p class="imgbox"><img src="m/loading.gif" class="ab" data-load="0"><span class="l"></span></p>
            </div>
        </div>

    </div>
    <a href="javascript:;" id="backtop"><i class="fa fa-angle-up"></i></a>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/main.js"></script>

    <script type="text/javascript">
        ;(function ($, window, document, undefined) {
            var page = (function () {
                return {
                    bindEvent:function(){
                        var _this = this;
                        $('.selection .tabopt').click(function(){
                            $(window).scrollTop(0)
                        });
                        var wt = waterfall('#J_waterfall .wtls'),lazy,datadone = false;

                        wt.sethidebox($('#J_hidebox'));

                        var loadtext = $("#J_loadtext"),page = 1;
                        var bs = botscroll(250,85);
                        bs.getbot=function(){
                            if(datadone){return false;}
                            loadtext.html('正在加载···');
                            page++;
                            $.get('../api/list.json',{'page':page},function(res){
                                var str = '',dt = res.data.photos;
                                for(var i = 0; i<dt.length;i++){
                                    str = '<a class="list-ls dsb fs12 bgcfff" href="">\
                                        <div class="img ptr ovh" style="background:'+(wt.colors[Math.floor(wt.colors.length*Math.random())])+';padding:'+(dt[i].height/dt[i].width*50)+'% 0;">\
                                            <img original="'+dt[i].src+'" class="lazy pta z1 wp100">\
                                            <p class="pta z2 b5 l5 cff"><span>'+dt[i].visit_count+'张</span><span class="ml10"><i class="fa fa-star-o"></i>'+dt[i].favorite_count+'</span></p>\
                                        </div>\
                                        <p class="ellipsis c66 plr lh30">'+dt[i].title+'</p>\
                                    </a>';
                                    // console.log(str)
                                    var eq = wt.harr.mini();
                                    wt.elms.eq(eq).append(str);
                                    wt.harr[eq] += dt[i].height/dt[i].width*wt.w;
                               }
                               bs.setmax($('.html').height());
                               bs.isc = true;

                               if(res.data.page*res.data.count>=res.data.total_count){
                                    datadone = true,loadtext.html('全部数据已加载完毕');
                               }

                               lazy.setlazy($('#J_waterfall .lazy'));

                            },'json');
                        }
                        setTimeout(function(){
                            lazy = new lazyload({
                                'class':'.lazy',
                                'elm':'#J_waterfall',
                                'outbot':300
                            })
                        },100);

                        $('#J_waterfall').on('click','a',function(){
                            _this.showpic($(this));
                            return false;
                        })

                        _this.pswipe = new photoswipt();

                        window.addEventListener('popstate', function(event) {  
                            if (event.state==null) {  
                                _this.pswipe.elmhide();
                            }
                        });

                        // _this.showpic($(this));
                    },
                    showpic:function(elm){
                        var _this = this;
                        // history.pushState({"pic":1},null,elm.attr('href'));
                        $('#J_photoswipe').show();
                        var pid = parseInt(elm.attr('data-id'));
                        _this.pswipe.getpics({'pid':pid,'place':'center','space':'0','part':'0','style':'0','color':'0','type':'photo'});
                        stopscroll();
                    },
                    init: function(){
                        this.bindEvent();
                    }
                };
            })();
            $(function(){
                page.init();
            });
        })(jQuery, window, document);
    </script>
</body>
</html>